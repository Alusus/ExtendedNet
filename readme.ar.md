# ExtendedNet
[[English]](readme.md)

<div dir=rtl>

توسعة لوحدة `شـبكة` ضمن `مـتم`.

## إضافة المكتبة للمشروع

```
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/ExtendedNet"، "تـوسعة_شبكة.أسس")؛
```

<div dir=ltr>

```
import "Apm";
Apm.importFile("Alusus/ExtendedNet");
```

</div>

## مثال

```
// نقوم بتضمين المكتبات الضرورية
اشمل "مـتم/طـرفية"؛
اشمل "مـتم/ذاكـرة"؛
اشمل "مـتم/شـبكة"؛
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/ExtendedNet"، "تـوسعة_شبكة.أسس")؛
استخدم مـتم؛
عرف غرض_شبكة: طـلب؛
غرض_شبكة.هات()؛
طـرفية.اطبع("%s\ج"، غرض_شبكة.متن_الرد)؛
```

<div dir=ltr>

```
import "Srl/Console";
import "Srl/String";
import "Srl/Net";
import "Apm";
Apm.importFile("Alusus/ExtendedNet");
use Srl;
def networkObject : Net.Request(String("https://example.org"));
networkObject.get();
Console.print("\n%s\n",networkObject.responseBody.buf);
```

</div>


## الأصناف

### الصنف طـلب 

هذا الصف يتعامل مع طلبات HTTP.

متغيرات هذا الصف:

`الرابط` (url).الرابط الخاص بالموقع المراد ارسال الطلبات اليه .

`مفتاح_المصادقة` (authKey)  المفتاح الخاص لعملية المصادقة مع الموقع.

`نوع_المصادقة` (authType) نوع المصادقة التي يستخدمها الموقع .

`نوع_البيانات` (contentType) نوع البيانات المرسل في الطلب .

`متن_الرد` (responseBody) الرد من الموقع.

`رمز_حالة_الرد` (responseHttpStatus) الرمز الخاص بحالة الرد .

`مصفوفة_ترويسة_الطلب` (httpHeaderArray) مصفوفة لتخزين ترويسات الطلب.

`إطناب` (verbose) تحديد الرغبة برؤية معلومات مفصلة أثناء العمليات.

### اضف_ترويسة (addHeader)

```
دالة اضف_ترويسة(الترويسة: نص): ثنائي
```

<div dir=ltr>

```
func addHeader(header: String)
```

</div>

هذه الوظيفة تضيف ترويسة الى مصفوفة_ترويسة_الطلب.

`الترويسة` (`header`) الترويسة المراد اضافتها الى المصفوفة

#### ضع_ملفا (putFile)

```
دالة ضع_ملف(اسم_الملف: نص): ثنائي
```

<div dir=ltr>

```
func putFile(filename: String): Bool
```

</div>

هذه الوظيفة ترفع الملفات الى الموقع

`اسم_الملف` (`filename`) المسار الى الملف المراد رفعه.

تعيد نعم اذا تمت عملية الرفع بشكل صحيح.

#### أرسل (post)

```
دالة أرسل(البيانات_المرسلة: مـؤشر_محارف): ثنائي
```

<div dir=ltr>

```
func post(postedData: ptr[array[Char]]): Bool
```

</div>

تقوم هذه الوظيفة بارسال البيانات الى الموقع باستخدام الطلب post

`البيانات_المرسلة` (`postedData`) البيانات المراد ارسالها الى الموقع .

تعيد نعم اذا تمت عملية الراسل بشكل صحيح.

```
دالة أرسل(البيانات_المرسلة: مـؤشر_محارف, اسم_الملف: مـؤشر_محارف): ثنائي
```

```
func post(postedData: ptr[array[Char]], outputFilename: ptr[array[Char]]): Bool
```

تقوم هذه الوظيفة بنفس عمل الوظيفة السابقة لكنها تخزن رد المخدم في ملف.

`البيانات_المرسلة` (`postedData`)  البيانات المراد ارسالها الى الموقع .

`اسم_الملف` (`outputFilename`) مسار الملف المراد تخزين البيانات فيه

تعيد نعم اذا تمت عملية الراسل بشكل صحيح.

#### أرسل_بريد (sendEmail)

```
دالة أرسل_بريد(
    المستلمون: مـصفوفة[نـص],
    المرسل: نـص, 
    العنوان: نـص,
    المتن: نـص,
    نوع_المتن: نـص,
    كلمة_السر: نـص
): ثـنائي
```

<div dir=ltr>

```
func sendEmail(
    receivers: Srl.Array[Srl.String],
    sender: Srl.String,
    subject: Srl.String,
    body: Srl.String,
    bodyType: Srl.String,
    password: Srl.String
): Bool
```

</div>

تقوم هذه الوظيفة بارسال بريد عبر  طلب SMTP.

`المستلمون` (`receivers`) مصفوفة لايميلات المستقبلين.

`المرسل` (`sender`) ايميل المرسل.

`العنوان` (`subject`) عنوان الايميل.

`المتن` (`body`) محتوى الايميل.

`نوع_المتن` (`bodyType`) نوع متن الايميل، إما `text` أو `html`.

`كلمة_السر` (`password`) كلمة السر للمرسل.

تعيد نعم اذا تم ارسال البريد بشكل صحيح.

#### هات (get)

```
دالة هات(): ثنائي
```

<div dir=ltr>

```
func get(): Bool
```

</div>

تقوم هذه الوظيفة بارسال طلب get.

تعيد نعم اذا تم ارسال الطلب بشككل صحيح.

#### احذف (delete)

```
دالة احذف(): ثنائي
```

<div dir=ltr>

```
func delete(): Bool
```

</div>

تقوم هذه الوظيفة بارسال طلب delete.

تعيد نعم اذا تم ارسال الطلب بشككل صحيح.

</div>

